# Mini‑RAG (FAQ + цитаты)

Демо RAG для банковского FAQ. Теперь в комплекте **28 тематических карточек** с реальными сценариями — можно задавать самые разные вопросы и получать разные пассажи/ответы.

## Что нового в этом пакете
- Добавлены файлы в `samples/faq/` (28 тем: премиальный счёт, перевыпуск/блокировка карты, переводы, SWIFT, вклады, кредиты, ипотека, кэшбэк, комиссии, 3‑DSecure, чарджбэк, KYC, выписки и др.).
- Демо корректно принимает **любой текст запроса**: вводите свой вопрос, нажимайте «Искать» — поиск выполняется по новому запросу, а сверху отображается строка «Запрос: …».
- Если ответа по базе нет, интерфейс честно сообщает: «Не нашёлся ответ». При включённом LLM — формирует краткий ответ **по найденным пассажам**.

## Примеры вопросов (можно прямо вставлять в демо)
- «Я бы хотел открыть премиальный счёт, что мне делать?»
- «Как перевыпустить карту, если потерял?»
- «Как повысить суточный лимит на переводы?»
- «Как подключить виртуальную карту и добавить её в Apple Pay?»
- «Какие комиссии на SWIFT‑переводы и сколько идут?»
- «Сколько процентов по накопительному счёту и можно ли снимать?»
- «Как рано погасить кредит без штрафов?»
- «Что делать при спорной операции — как оформить чарджбэк?»
- «Где скачать выписку по счёту за месяц?»
- «Как включить/сменить ПИН и что делать, если забыл?»

> Напоминаем: это **локальный** RAG — ответы строятся только по тем документам, что лежат в `samples/faq/`. Хотите больше тем — просто добавляйте новые `.md` в эту папку.

## Быстрый старт
```bash
pip install -r requirements.txt
streamlit run demo_streamlit.py
```

## Провайдеры LLM (опционально)
- OpenAI: `PROVIDER=openai`, `OPENAI_API_KEY=...` и др.
- GigaChat: `PROVIDER=gigachat`, `GIGACHAT_AUTH=...`, `GIGACHAT_SCOPE=GIGACHAT_API_PERS`, `GIGACHAT_VERIFY=false` (в облаке).

## Идеи улучшений
- Перейти на FAISS/Chroma + эмбеддинги (OpenAI/GigaChat/SBERT).
- Добавить rerank (bge‑reranker / cross‑encoder).
- Включить строгий JSON‑контракт ответа (answer/citations/confidence) и repair/validation.
